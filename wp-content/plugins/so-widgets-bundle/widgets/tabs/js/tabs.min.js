var sowb=window.sowb||{};jQuery((function(t){sowb.setupTabs=function(){t(".sow-tabs").each((function(e,o){var s=t(o),a=s.closest(".so-widget-sow-tabs");if(a.data("initialized"))return t(this);var i,n=a.data("useAnchorTags"),r=s.find("> .sow-tabs-panel-container"),d=s.find("> .sow-tabs-tab-container > .sow-tabs-tab"),c=s.find(".sow-tabs-tab-selected").index(),w=r.find("> .sow-tabs-panel");w.not(":eq("+c+")").hide();var l=function(e){var o=sowTabs.scrollto_offset?sowTabs.scrollto_offset:90,s=a.offset().top-o;e?t("body,html").animate({scrollTop:s},200):window.scrollTo(0,s)},f=function(t){return sowTabs.scrollto_after_change&&(t.offset().top<window.scrollY||t.offset().top+t.height()>window.scrollY)},b=function(e,o){var s=t(e);if(s.is(".sow-tabs-tab-selected"))return f(s)&&l(!0),!0;var a=s.index();if(a>-1){i&&i.finish();var r=d.filter(".sow-tabs-tab-selected");r.removeClass("sow-tabs-tab-selected");var c=r.index(),b=w.eq(c).children(),h=w.eq(a).children();r.attr("tabindex",-1),r.attr("aria-selected",!1),b.attr("tabindex",-1),s.attr("tabindex",0),s.attr("aria-selected",!0),h.attr("tabindex",0),b.attr("aria-hidden","true"),i=w.eq(c).fadeOut("fast",(function(){t(this).trigger("hide"),h.removeAttr("aria-hidden"),w.eq(a).fadeIn({duration:"fast",start:function(){t(window).trigger("resize"),t(sowb).trigger("setup_widgets")},complete:function(){t(this).trigger("show"),(o||f(s))&&l(!0)}})})),s.addClass("sow-tabs-tab-selected"),n&&!o&&(window.location.hash=s.data("anchor"))}};if(d.on("click",(function(){b(this)})),d.on("keyup",(function(e){var o,s=t(this);37!==e.keyCode&&39!==e.keyCode||(37===e.keyCode&&(o=s.prev().get(0)?s.prev():s.siblings().last()),39===e.keyCode&&(o=s.next().get(0)?s.next():s.siblings().first()),s!==o&&(o.trigger("focus"),b(o.get(0))))})),n){var h=function(){window.location.hash&&window.location.hash.substring(1).split(",").forEach((function(e){var o=d.filter((function(o,s){return decodeURI(e)===decodeURI(t(s).data("anchor"))}));o.length>0&&b(o,!0)}))};t(window).on("hashchange",h),window.location.hash&&h()}a.data("initialized",!0)}))},sowb.setupTabs(),t(sowb).on("setup_widgets",sowb.setupTabs)})),window.sowb=sowb;