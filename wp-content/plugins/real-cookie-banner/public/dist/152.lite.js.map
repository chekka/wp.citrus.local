{"version":3,"file":"152.lite.js?ver=1b7b0986ee2a7c18628a","mappings":"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","sources":["webpack://realCookieBanner_[name]/./src/public/ts/utils/slugify.tsx","webpack://realCookieBanner_[name]/./src/public/ts/hooks/useRouteCookie.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/config/cookies/formFields/general.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/config/cookies/formFields/technical.tsx","webpack://realCookieBanner_[name]/./src/public/ts/utils/isHost.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/config/cookies/formFields/manager.tsx","webpack://realCookieBanner_[name]/./src/public/ts/others/dynamics/index.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/config/cookies/formFields/codeDynamics.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/config/cookies/formFields/noticeFormItemContainsSkipIfActiveAttribute.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/config/cookies/formFields/handling.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/config/cookies/form.tsx","webpack://realCookieBanner_[name]/./src/public/ts/components/formHeadline.tsx","webpack://realCookieBanner_[name]/./src/public/ts/hooks/useLocationQuery.tsx","webpack://realCookieBanner_[name]/./src/public/ts/hooks/useRouteCookieGroup.tsx","webpack://realCookieBanner_[name]/./src/public/ts/others/cookieTypeLocalized.tsx"],"sourcesContent":["/**\n * Slugify a given text.\n *\n * @see https://gist.github.com/codeguy/6684588\n */\nfunction slugify(str) {\n  str = str.replace(/^\\s+|\\s+$/g, \"\"); // trim\n\n  str = str.toLowerCase(); // remove accents, swap ñ for n, etc\n\n  var from = \"àáäâèéëêìíïîòóöôùúüûñç·/_,:;\";\n  var to = \"aaaaeeeeiiiioooouuuunc------\";\n\n  for (var i = 0, l = from.length; i < l; i++) {\n    str = str.replace(new RegExp(from.charAt(i), \"g\"), to.charAt(i));\n  }\n\n  str = str.replace(/[^a-z0-9 -]/g, \"\") // remove invalid chars\n  .replace(/\\s+/g, \"-\") // collapse whitespace and replace by -\n  .replace(/-+/g, \"-\"); // collapse dashes\n\n  return str;\n}\n\nexport { slugify };","import { useRouteMatch } from \"react-router-dom\";\nimport { CookieModel } from \"../models\";\nimport { useRouteCookieGroup } from \".\";\n\nvar useRouteCookie = function useRouteCookie() {\n  var routeGroup = useRouteCookieGroup();\n  var group = routeGroup.group;\n\n  var _useRouteMatch = useRouteMatch(),\n      params = _useRouteMatch.params; // Get cookie or return draft object\n\n\n  var id = isNaN(+params.cookie) ? 0 : +params.cookie;\n  var queried = !!params.cookie;\n  var cookie = group.cookies.entries.get(+params.cookie) || new CookieModel(group.cookies, {\n    id: 0\n  });\n  return {\n    routeGroup: routeGroup,\n    cookie: cookie,\n    id: id,\n    queried: queried,\n    fetched: cookie.key !== 0\n  };\n};\n\nexport { useRouteCookie };","import _Switch from \"antd/es/switch\";\nimport _Select from \"antd/es/select\";\nimport _Radio from \"antd/es/radio\";\nimport _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { _i, __, request, slugify } from \"../../../../utils\";\nimport { useStores } from \"../../../../store\";\nimport { FormHeadline, LearnMoreTag } from \"../../..\";\nimport { CookieEditFormLayout } from \"..\";\nimport { locationRestForwardCookieGet } from \"../../../../wp-api\";\nimport { useRouteCookie } from \"../../../../hooks\";\nvar CookieEditFormGeneralFields = observer(function (_ref) {\n  var _cookie$presetModel, _cookie$presetModel$d;\n\n  var _ref$showNoticePreset = _ref.showNoticePresetGroupNotFound,\n      showNoticePresetGroupNotFound = _ref$showNoticePreset === void 0 ? false : _ref$showNoticePreset,\n      groupNotice = _ref.groupNotice,\n      providerPrivacyPolicyNotice = _ref.providerPrivacyPolicyNotice;\n\n  var _useStores = useStores(),\n      _useStores$cookieStor = _useStores.cookieStore,\n      groups = _useStores$cookieStor.groups,\n      essentialGroup = _useStores$cookieStor.essentialGroup,\n      _useStores$optionStor = _useStores.optionStore,\n      ePrivacyUSA = _useStores$optionStor.ePrivacyUSA,\n      consentForwarding = _useStores$optionStor.consentForwarding;\n\n  var _useRouteCookie = useRouteCookie(),\n      cookie = _useRouteCookie.cookie,\n      fetched = _useRouteCookie.fetched;\n\n  var isRealCookieBannerPreset = ((_cookie$presetModel = cookie.presetModel) === null || _cookie$presetModel === void 0 ? void 0 : (_cookie$presetModel$d = _cookie$presetModel.data) === null || _cookie$presetModel$d === void 0 ? void 0 : _cookie$presetModel$d.identifier) === \"real-cookie-banner\";\n  var findByUniqueCookieName = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slug) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return request({\n                location: locationRestForwardCookieGet,\n                params: {\n                  slug: slug\n                }\n              });\n\n            case 3:\n              return _context.abrupt(\"return\", _context.sent.filter(function (d) {\n                return d.ID !== cookie.key;\n              })[0]);\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              return _context.abrupt(\"return\", undefined);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [cookie.key]);\n  var validateUniqueCookieName = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(slug, allowOverwrite) {\n      var found, _consentForwardingUniqueName, matchRegexp, foundGenerated;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return findByUniqueCookieName(slug);\n\n            case 2:\n              found = _context2.sent;\n\n              if (!found) {\n                _context2.next = 19;\n                break;\n              }\n\n              if (allowOverwrite) {\n                _context2.next = 8;\n                break;\n              }\n\n              throw __(\"A service with the same unique name already exists.\");\n\n            case 8:\n              // Consent Forwarding is deactivated, so we need to generate an unique name for the user\n              _consentForwardingUniqueName = found.metas.consentForwardingUniqueName;\n              matchRegexp = /^(.*)-(\\d+)$/;\n              foundGenerated = found;\n\n            case 11:\n              if (!foundGenerated) {\n                _context2.next = 18;\n                break;\n              }\n\n              _consentForwardingUniqueName = _consentForwardingUniqueName.match(matchRegexp) ? _consentForwardingUniqueName.replace(matchRegexp, function (_, g1, g2) {\n                return \"\".concat(g1, \"-\").concat(+g2 + 1);\n              }) : \"\".concat(_consentForwardingUniqueName, \"-1\");\n              _context2.next = 15;\n              return findByUniqueCookieName(_consentForwardingUniqueName);\n\n            case 15:\n              foundGenerated = _context2.sent;\n              _context2.next = 11;\n              break;\n\n            case 18:\n              // Overwrite in form\n              allowOverwrite(_consentForwardingUniqueName);\n\n            case 19:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [findByUniqueCookieName]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormHeadline, {\n    offset: CookieEditFormLayout.labelCol.span\n  }, __(\"General service configuration\"), \" \", /*#__PURE__*/React.createElement(LearnMoreTag, {\n    url: __(\"https://devowl.io/knowledge-base/real-cookie-banner-create-individual-cookie/\")\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Name\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"name\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please provide a name!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, __('Each service used should have a descriptive name that is understandable to a non-professional user. Example: \"Google Analytics\".'))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Status\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"status\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please choose a status!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Radio.Group, null, /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"publish\"\n  }, __(\"Enabled\")), /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"private\"\n  }, __(\"Disabled\")), /*#__PURE__*/React.createElement(_Radio.Button, {\n    value: \"draft\"\n  }, __(\"Draft\")))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, __('Services with the status \"Draft\" or \"Disabled\" are not visible to the public. In addition, a draft will be highlighted in the service table so that you do not forget to configure it.'))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Group\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"group\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please provide a group!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Select, null, groups.sortedGroups.map(function (_ref4) {\n    var _ref4$data = _ref4.data,\n        id = _ref4$data.id,\n        name = _ref4$data.name;\n    return /*#__PURE__*/React.createElement(_Select.Option, {\n      key: id,\n      value: id\n    }, name);\n  }))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, __(\"Each service must be assigned to a group. All services that do not belong to the group of essential services can (but do not have to) be accepted by visitors. According to the ePrivacy Directive, only services without which the website would not work are considered as essential services if the visitor has explicitly requested the service used. A possible economic interest of the website operator in using a tool, e.g. Google Analytics, is irrelevant.\")), showNoticePresetGroupNotFound !== false && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice notice-warning below-h2 notice-alt\"\n  }, /*#__PURE__*/React.createElement(\"p\", null, __(\"The service group in which this service is normally placed (%s) has been deleted by you. Please group the service yourself.\", showNoticePresetGroupNotFound))), !!groupNotice && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice notice-info below-h2 notice-alt\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: groupNotice\n    }\n  }))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Provider\"),\n    required: true\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"provider\",\n    noStyle: true,\n    rules: [{\n      required: true,\n      message: __(\"Please name a provider!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, __('A service always has an \"owner\", who processes collected data or information saved in cookies etc. Please specify which provider creates cookies and processes personal data, e.g. \"Google Ireland Limited\". If you are the provider, please enter your legal name.'))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Purpose\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"purpose\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Input.TextArea, {\n    autoSize: {\n      minRows: 3\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, __(\"The ePrivacy Directive and the GDPR require that a non-professional user understands the purpose of this service, how personal data is collected and how cookies are used for this purpose.\"))), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Privacy policy of the provider\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"providerPrivacyPolicy\",\n    noStyle: true,\n    rules: [{\n      type: \"url\",\n      message: __(\"Please provide a valid URL!\")\n    }]\n  }, /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\"\n  }, __(\"Provide a direct link to the privacy policy of the provider that runs this service (in the language of your website).\")), !!providerPrivacyPolicyNotice && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"notice notice-warning below-h2 notice-alt\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: providerPrivacyPolicyNotice\n    }\n  }))), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.group !== nextValues.group || prevValues.name !== nextValues.name;\n    }\n  }, function (_ref5) {\n    var getFieldValue = _ref5.getFieldValue,\n        setFieldsValue = _ref5.setFieldsValue;\n    var isEssentialGroup = getFieldValue(\"group\") === essentialGroup.key;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, {\n      label: __(\"Consent Forwarding Unique Name\"),\n      style: {\n        display: consentForwarding ? undefined : \"none\"\n      }\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"consentForwardingUniqueName\",\n      noStyle: true,\n      validateTrigger: \"onBlur\",\n      rules: [{\n        validator: function () {\n          var _validator = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(rules, value) {\n            var allowOverwrite;\n            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    allowOverwrite = consentForwarding ? !value : true;\n                    return _context3.abrupt(\"return\", validateUniqueCookieName(value || slugify(getFieldValue(\"name\")), allowOverwrite ? function (consentForwardingUniqueName) {\n                      return setFieldsValue({\n                        consentForwardingUniqueName: consentForwardingUniqueName\n                      });\n                    } : undefined));\n\n                  case 2:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3);\n          }));\n\n          function validator(_x4, _x5) {\n            return _validator.apply(this, arguments);\n          }\n\n          return validator;\n        }()\n      }]\n    }, /*#__PURE__*/React.createElement(_Input, {\n      placeholder: fetched ? \"\" : slugify(getFieldValue(\"name\"))\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"description\"\n    }, __(\"Consent Forwarding is active. This means that all services on all available instances must be identified by a unique name in order to correctly set consent for a service.\")), isEssentialGroup && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-info below-h2 notice-alt\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, __(\"You can define a unique name, but essential services are automatically accepted when a consent is forwarded.\")))), /*#__PURE__*/React.createElement(_Form.Item, {\n      label: __(\"Legal basis\"),\n      required: true\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"legalBasis\",\n      noStyle: true,\n      rules: [{\n        required: true\n      }]\n    }, /*#__PURE__*/React.createElement(_Radio.Group, {\n      disabled: isEssentialGroup\n    }, /*#__PURE__*/React.createElement(_Radio.Button, {\n      value: \"consent\"\n    }, __(\"Consent (Opt-in)\")), /*#__PURE__*/React.createElement(_Radio.Button, {\n      value: \"legitimate-interest\"\n    }, __(\"Legitimate interest (Opt-out)\")), isRealCookieBannerPreset && /*#__PURE__*/React.createElement(_Radio.Button, {\n      value: \"legal-requirement\"\n    }, __(\"Compliance with a legal obligation\")))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"description\"\n    }, _i(__('Services can be used on various legal bases according to Art. 6 GDPR. \"Consent\" means that the user must explicitly agree to the service (opt-in). \"Legitimate interest\" means that your interest as a website operator prevails to use the service and the user must explicitly disagree (opt-out). Unless it is an essential service. Then an objection is not possible. {{strong}}A legitimate interest exists only in rare cases and only for data processing. If you are not sure, it is better to obtain consent to be on the safe side.{{/strong}}'), {\n      strong: /*#__PURE__*/React.createElement(\"strong\", null)\n    })), isEssentialGroup && !isRealCookieBannerPreset && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-info below-h2 notice-alt\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, __('Your service is currently grouped as \"Essential\". This group implies the legitimate interest, with the only difference that this service cannot be opted out.')))));\n  }), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.group !== nextValues.group || prevValues.ePrivacyUSA !== nextValues.ePrivacyUSA;\n    }\n  }, function (_ref6) {\n    var getFieldValue = _ref6.getFieldValue;\n    return /*#__PURE__*/React.createElement(_Form.Item, {\n      label: __(\"US data processing\"),\n      style: {\n        display: ePrivacyUSA ? undefined : \"none\"\n      }\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"ePrivacyUSA\",\n      valuePropName: \"checked\",\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", __(\"This service processes data in the USA or transfers data to US companies or servers\")), getFieldValue(\"ePrivacyUSA\") && getFieldValue(\"group\") === essentialGroup.key && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-warning below-h2 notice-alt\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, __(\"If you use this service declaration only as a notice and the corresponding service is already embedded outside the cookie banner on the first visit to the website, it is possible that the service used in the USA is already processing data before the user has agreed to this. From a data protection perspective, the use of such services should be avoided, or the service should be embedded in the opt-in code (execution after consent). In practice, this will not always be possible.\"))));\n  }), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"No technical definitions\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"noTechnicalDefinitions\",\n    valuePropName: \"checked\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", __(\"This service does not set any technical cookies on the client of the visitor, but e.g. integrates a script.\"))));\n});\nexport { CookieEditFormGeneralFields };","import _Checkbox from \"antd/es/checkbox\";\nimport _Input from \"antd/es/input\";\nimport _Form from \"antd/es/form\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Select from \"antd/es/select\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport { observer } from \"mobx-react\";\nimport { __, _i, isHost, isUrl } from \"../../../../utils\";\nimport { getCookieTypeLocalized } from \"../../../../others\";\nimport { PlusOutlined, QuestionCircleFilled, DeleteOutlined } from \"@ant-design/icons\";\nimport { FormHeadline } from \"../../..\";\nimport { CookieEditFormLayout, technicalDefinitionDefaults } from \"..\";\nvar WP_LIST_TABLE_FORM_ITEM_PROPS = {\n  labelCol: {\n    span: 0\n  },\n  wrapperCol: {\n    span: 24\n  },\n  style: {\n    margin: 0\n  }\n};\nvar CookieEditFormTechnicalFields = observer(function () {\n  var cookieTypeLocalized = getCookieTypeLocalized();\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.noTechnicalDefinitions !== nextValues.noTechnicalDefinitions || prevValues.technicalDefinitions.length !== nextValues.technicalDefinitions.length;\n    }\n  }, function (_ref) {\n    var getFieldValue = _ref.getFieldValue;\n    return getFieldValue(\"noTechnicalDefinitions\") ? null : /*#__PURE__*/React.createElement(_Form.List, {\n      name: \"technicalDefinitions\"\n    }, function (fields, _ref2) {\n      var add = _ref2.add,\n          remove = _ref2.remove;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormHeadline, {\n        offset: CookieEditFormLayout.labelCol.span,\n        description: __(\"For each service you use, you should specify all cookies that are used by it. You can find this out in the developer console of your browser. Please note that there are several types of cookies and that the law requires that you inform your visitors not only about (HTTP) cookies, but also about cookie-like information.\")\n      }, __(\"Technical cookie information\")), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"wp-list-table widefat fixed striped table-view-list\",\n        style: {\n          marginBottom: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n        width: 150\n      }, __(\"Cookie type\")), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: _i(__(\"Every cookie has a technical name, which you must provide. If a cookie name is dynamically composed, please use an asterisk ({{code}}*{{/code}}) as a wildcard (placeholder).\"), {\n          code: /*#__PURE__*/React.createElement(\"code\", null)\n        })\n      }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Technical cookie name\"), \" \", /*#__PURE__*/React.createElement(QuestionCircleFilled, null)))), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: __(\"Every cookie is associated to a domain or hostname.\")\n      }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Technical cookie host\"), \" \", /*#__PURE__*/React.createElement(QuestionCircleFilled, null)))), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Tooltip, {\n        title: __(\"A HTTP cookie is only valid for a certain time, which is defined when the cookie is set.\")\n      }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Cookie duration\"), \" \", /*#__PURE__*/React.createElement(QuestionCircleFilled, null)))), /*#__PURE__*/React.createElement(\"td\", {\n        width: 50,\n        align: \"right\"\n      }, \"\\xA0\"))), /*#__PURE__*/React.createElement(\"tbody\", null, fields.map(function (field) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: field.key\n        }, /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, WP_LIST_TABLE_FORM_ITEM_PROPS, {\n          fieldKey: [field.fieldKey, \"type\"],\n          name: [field.name, \"type\"],\n          rules: [{\n            required: true,\n            message: __(\"Please provide a cookie type!\")\n          }]\n        }), /*#__PURE__*/React.createElement(_Select, null, Object.keys(cookieTypeLocalized).map(function (key) {\n          return /*#__PURE__*/React.createElement(_Select.Option, {\n            key: key,\n            value: key\n          }, cookieTypeLocalized[key].name);\n        })))), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, WP_LIST_TABLE_FORM_ITEM_PROPS, {\n          fieldKey: [field.fieldKey, \"name\"],\n          name: [field.name, \"name\"],\n          rules: [{\n            required: true,\n            message: __(\"Please provide a technical cookie name!\")\n          }]\n        }), /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(_Form.Item, {\n          noStyle: true,\n          shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n            var _prevValues$technical, _nextValues$technical;\n\n            return ((_prevValues$technical = prevValues.technicalDefinitions[field.name]) === null || _prevValues$technical === void 0 ? void 0 : _prevValues$technical.name) !== ((_nextValues$technical = nextValues.technicalDefinitions[field.name]) === null || _nextValues$technical === void 0 ? void 0 : _nextValues$technical.name);\n          }\n        }, function (_ref3) {\n          var getFieldValue = _ref3.getFieldValue;\n          var cookieName = getFieldValue([\"technicalDefinitions\", field.name, \"name\"]);\n          var notSupportedCookieNamePlaceholders = [/\\[/gm, [/([{]+)/gm, function (match) {\n            return match.length === 1;\n          }], /\\(/gm];\n          return notSupportedCookieNamePlaceholders.filter(function (r) {\n            return Array.isArray(r) ? r[0].test(cookieName) && cookieName.match(r[0]).filter(r[1]).length > 0 : r.test(cookieName);\n          }).length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n            className: \"notice notice-warning inline below-h2 notice-alt\",\n            style: {\n              margin: \"10px 0 0 0\"\n            }\n          }, /*#__PURE__*/React.createElement(\"p\", null, _i(__(\"Are you sure this is the name of the cookie? It seems like you are using a placeholder that is not supported. Please use an asterisk ({{code}}*{{/code}}) as a placeholder if the cookie name is dynamically composed.\"), {\n            code: /*#__PURE__*/React.createElement(\"code\", null)\n          })));\n        })), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Form.Item, {\n          noStyle: true,\n          shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n            var _prevValues$technical2, _nextValues$technical2;\n\n            return ((_prevValues$technical2 = prevValues.technicalDefinitions[field.name]) === null || _prevValues$technical2 === void 0 ? void 0 : _prevValues$technical2.type) !== ((_nextValues$technical2 = nextValues.technicalDefinitions[field.name]) === null || _nextValues$technical2 === void 0 ? void 0 : _nextValues$technical2.type);\n          }\n        }, function (_ref4) {\n          var getFieldValue = _ref4.getFieldValue;\n          var type = getFieldValue([\"technicalDefinitions\", field.name, \"type\"]);\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, WP_LIST_TABLE_FORM_ITEM_PROPS, {\n            fieldKey: [field.fieldKey, \"host\"],\n            name: [field.name, \"host\"],\n            rules: [{\n              validator: function validator(_, value) {\n                return ([\"local\", \"session\", \"indexedDb\"].indexOf(type) > -1 ? isUrl(value) : isHost(value)) || value === \"\" && type !== \"http\" ? Promise.resolve() : Promise.reject(__(\"Please provide a valid hostname!\"));\n              }\n            }]\n          }), /*#__PURE__*/React.createElement(_Input, null)), /*#__PURE__*/React.createElement(_Form.Item, {\n            noStyle: true,\n            shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n              var _prevValues$technical3, _nextValues$technical3;\n\n              return ((_prevValues$technical3 = prevValues.technicalDefinitions[field.name]) === null || _prevValues$technical3 === void 0 ? void 0 : _prevValues$technical3.host) !== ((_nextValues$technical3 = nextValues.technicalDefinitions[field.name]) === null || _nextValues$technical3 === void 0 ? void 0 : _nextValues$technical3.host);\n            }\n          }, function (_ref5) {\n            var getFieldValue = _ref5.getFieldValue;\n            var host = getFieldValue([\"technicalDefinitions\", field.name, \"host\"]);\n            return host.startsWith(\"*.\") && host.length > 2 && /*#__PURE__*/React.createElement(\"div\", {\n              className: \"notice notice-warning inline below-h2 notice-alt\",\n              style: {\n                margin: \"10px 0 0 0\"\n              }\n            }, /*#__PURE__*/React.createElement(\"p\", null, _i(__(\"You are using an invalid wildcard (placeholder) syntax {{code}}*.{{/code}} to match subdomains. Use {{code}}.%s{{/code}} to include subdomains.\", host.substr(2)), {\n              code: /*#__PURE__*/React.createElement(\"code\", null)\n            })));\n          }));\n        })), /*#__PURE__*/React.createElement(\"td\", null, /*#__PURE__*/React.createElement(_Form.Item, {\n          noStyle: true,\n          shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n            var _prevValues$technical4, _nextValues$technical4;\n\n            return ((_prevValues$technical4 = prevValues.technicalDefinitions[field.name]) === null || _prevValues$technical4 === void 0 ? void 0 : _prevValues$technical4.type) !== ((_nextValues$technical4 = nextValues.technicalDefinitions[field.name]) === null || _nextValues$technical4 === void 0 ? void 0 : _nextValues$technical4.type);\n          }\n        }, function (_ref6) {\n          var getFieldValue = _ref6.getFieldValue;\n          var type = getFieldValue([\"technicalDefinitions\", field.name, \"type\"]);\n          return [\"local\", \"session\", \"indexedDb\", \"flash\"].indexOf(type) > -1 ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, {\n            fieldKey: [field.fieldKey, \"sessionDuration\"],\n            name: [field.name, \"sessionDuration\"],\n            noStyle: true,\n            valuePropName: \"checked\"\n          }), /*#__PURE__*/React.createElement(_Checkbox, {\n            style: {\n              float: \"left\",\n              marginTop: 5\n            }\n          }, /*#__PURE__*/React.createElement(_Tooltip, {\n            title: __(\"This cookie is active as long as the session is active\")\n          }, /*#__PURE__*/React.createElement(\"span\", null, __(\"Session\"))))), /*#__PURE__*/React.createElement(_Form.Item, {\n            noStyle: true,\n            shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n              var _prevValues$technical5, _nextValues$technical5;\n\n              return ((_prevValues$technical5 = prevValues.technicalDefinitions[field.name]) === null || _prevValues$technical5 === void 0 ? void 0 : _prevValues$technical5.sessionDuration) !== ((_nextValues$technical5 = nextValues.technicalDefinitions[field.name]) === null || _nextValues$technical5 === void 0 ? void 0 : _nextValues$technical5.sessionDuration);\n            }\n          }, function (_ref7) {\n            var getFieldValue = _ref7.getFieldValue;\n            var sessionDuration = getFieldValue([\"technicalDefinitions\", field.name, \"sessionDuration\"]);\n            return /*#__PURE__*/React.createElement(_Form.Item, _extends({}, field, WP_LIST_TABLE_FORM_ITEM_PROPS, {\n              fieldKey: [field.fieldKey, \"duration\"],\n              name: [field.name, \"duration\"],\n              rules: [{\n                required: !sessionDuration,\n                message: __(\"Please provide a valid duration!\")\n              }]\n            }), /*#__PURE__*/React.createElement(_Input, {\n              min: \"0\",\n              addonAfter: /*#__PURE__*/React.createElement(_Form.Item, {\n                name: [field.name, \"durationUnit\"],\n                noStyle: true,\n                rules: [{\n                  required: true,\n                  message: __(\"Please provide an unit!\")\n                }]\n              }, /*#__PURE__*/React.createElement(_Select, null, /*#__PURE__*/React.createElement(_Select.Option, {\n                value: \"s\"\n              }, __(\"second(s)\")), /*#__PURE__*/React.createElement(_Select.Option, {\n                value: \"m\"\n              }, __(\"minute(s)\"), \" \"), /*#__PURE__*/React.createElement(_Select.Option, {\n                value: \"h\"\n              }, __(\"hour(s)\"), \" \"), /*#__PURE__*/React.createElement(_Select.Option, {\n                value: \"d\"\n              }, __(\"day(s)\"), \" \"), /*#__PURE__*/React.createElement(_Select.Option, {\n                value: \"mo\"\n              }, __(\"month(s)\"), \" \"), /*#__PURE__*/React.createElement(_Select.Option, {\n                value: \"y\"\n              }, __(\"year(s)\"), \" \"))),\n              type: \"number\",\n              style: {\n                maxWidth: 200,\n                display: sessionDuration ? \"none\" : undefined\n              }\n            }));\n          }));\n        })), /*#__PURE__*/React.createElement(\"td\", null, fields.length > 1 ? /*#__PURE__*/React.createElement(\"a\", {\n          className: \"button button-small\",\n          onClick: function onClick() {\n            remove(field.name);\n          }\n        }, /*#__PURE__*/React.createElement(DeleteOutlined, null)) : null));\n      })), /*#__PURE__*/React.createElement(\"tfoot\", null, /*#__PURE__*/React.createElement(\"tr\", null, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: 5,\n        align: \"right\"\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"button button-primary alignright\",\n        onClick: function onClick() {\n          add(technicalDefinitionDefaults);\n        }\n      }, /*#__PURE__*/React.createElement(PlusOutlined, null), \" \", __(\"Add another cookie definition\")))))));\n    });\n  });\n});\nexport { CookieEditFormTechnicalFields };","/**\n * Is a passed host string valid?\n *\n * @param url\n * @see https://stackoverflow.com/a/106223/5506547\n */\nfunction isHost(url) {\n  return /^\\.?(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/gm.test(url);\n}\n\nexport { isHost };","import _Input from \"antd/es/input\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport _Form from \"antd/es/form\";\nimport _Switch from \"antd/es/switch\";\nimport { observer } from \"mobx-react\";\nimport { CookieEditFormLayout } from \"..\";\nimport { __ } from \"../../../../utils\";\nimport { useStores } from \"../../../../store\";\nimport { useRouteCookie } from \"../../../../hooks\";\nimport { LearnMoreTag } from \"../../..\";\n/**\n * Common manager form items. It provides fields for \"This is manger XY\" and in/out events.\n * If you add another manager, please also consider to add the meta fields to REST and initial values\n * of the cookie form itself.\n */\n\nvar CookieEditFormManagerFields = observer(function (_ref) {\n  var manager = _ref.manager,\n      onlyWhenManagerIs = _ref.onlyWhenManagerIs,\n      hasManagerAttributeName = _ref.hasManagerAttributeName,\n      thisIsManagerAttributeName = _ref.thisIsManagerAttributeName,\n      inEventNameAttributeName = _ref.inEventNameAttributeName,\n      outEventNameAttributeName = _ref.outEventNameAttributeName;\n\n  var _useStores = useStores(),\n      cookieStore = _useStores.cookieStore,\n      _useStores$optionStor = _useStores.optionStore,\n      setCookiesViaManager = _useStores$optionStor.setCookiesViaManager,\n      hasManager = _useStores$optionStor[hasManagerAttributeName],\n      isPro = _useStores$optionStor.others.isPro;\n\n  var essentialGroup = cookieStore.essentialGroup;\n\n  var _useRouteCookie = useRouteCookie(),\n      cookie = _useRouteCookie.cookie;\n\n  return setCookiesViaManager === onlyWhenManagerIs && isPro && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: CookieEditFormLayout.labelCol.span\n    }\n  }, /*#__PURE__*/React.createElement(_Tooltip, {\n    title: hasManager && cookie.key !== hasManager ? __(\"You have already defined a %s service.\", manager) : \"\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: thisIsManagerAttributeName,\n    valuePropName: \"checked\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(_Switch, {\n    disabled: hasManager && cookie.key !== hasManager\n  })), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", __(\"Opt-in script below loads %s\", manager))))), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, curValues) {\n      return prevValues[thisIsManagerAttributeName] !== curValues[thisIsManagerAttributeName] || prevValues.group !== curValues.group;\n    }\n  }, function (_ref2) {\n    var getFieldValue = _ref2.getFieldValue;\n    var isActive = getFieldValue(thisIsManagerAttributeName);\n    var group = getFieldValue(\"group\");\n    return isActive && group !== essentialGroup.key && /*#__PURE__*/React.createElement(_Form.Item, {\n      wrapperCol: {\n        offset: CookieEditFormLayout.labelCol.span\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-warning below-h2 notice-alt\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, __(\"You have defined %1$s in a non-essential service group. In our legal opinion, this is the only way to use %1$s legally. However, please note that if a user doesn't consent to load %1$s, opt-in and opt-out events will not be sent to %1$s. Real Cookie Banner offers you the possibility to specify a fallback HTML/JavaScript for this case.\", manager))));\n  }), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, curValues) {\n      return prevValues[thisIsManagerAttributeName] !== curValues[thisIsManagerAttributeName] || prevValues[inEventNameAttributeName] !== curValues[inEventNameAttributeName] || prevValues[outEventNameAttributeName] !== curValues[outEventNameAttributeName];\n    }\n  }, function (_ref3) {\n    var getFieldValue = _ref3.getFieldValue;\n    var active = getFieldValue(thisIsManagerAttributeName);\n    var inEventName = getFieldValue(inEventNameAttributeName);\n    var outEventName = getFieldValue(outEventNameAttributeName);\n    return !active && /*#__PURE__*/React.createElement(_Form.Item, {\n      label: __(\"Event names for %s\", manager)\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: inEventNameAttributeName,\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(_Input, {\n      addonBefore: __(\"Opt-in\"),\n      style: {\n        maxWidth: 400,\n        marginRight: 10,\n        marginBottom: 5\n      }\n    })), /*#__PURE__*/React.createElement(_Form.Item, {\n      name: outEventNameAttributeName,\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(_Input, {\n      addonBefore: __(\"Opt-out\"),\n      style: {\n        maxWidth: 400,\n        marginRight: 10,\n        marginBottom: 5\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(LearnMoreTag, {\n      url: __(\"https://devowl.io/knowledge-base/real-cookie-banner-with-google-tag-manager-or-matomo-tag-manager/\")\n    })), (inEventName.length > 0 || outEventName.length > 0) && !hasManager && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-warning below-h2 notice-alt\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, __(\"You have not yet defined a %s service. To use event names, you must create a %s service.\", manager, manager))));\n  }));\n});\nexport { CookieEditFormManagerFields };","/**\n * This fields of cookies can hold dynamic variables in `{{my_variable}}` format.\n */\nvar DYNAMICS_SEARCH_IN = [\"codeOptIn\", \"codeOptOut\", \"codeOnPageLoad\"];\nvar DYNAMICS_VARIABLE_REGEXP = /{{([A-Za-z0-9_]+)}}/gm;\nexport * from \"./apply\";\nexport { DYNAMICS_SEARCH_IN, DYNAMICS_VARIABLE_REGEXP };","import _Form from \"antd/es/form\";\nimport _Input from \"antd/es/input\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { observer } from \"mobx-react\";\nimport { __ } from \"../../../../utils\";\nimport { DYNAMICS_SEARCH_IN, DYNAMICS_VARIABLE_REGEXP } from \"../../../../others\";\n\n/**\n * Provide dynamic variables in `codeOptIn`, `codeOptOut` and `codeOnPageLoad`.\n */\nvar CookieEditFormCodeDynamics = observer(function (_ref) {\n  var dynamicFields = _ref.dynamicFields;\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return DYNAMICS_SEARCH_IN.map(function (k) {\n        return prevValues[k] !== nextValues[k];\n      }).filter(Boolean).length > 0;\n    }\n  }, function (_ref2) {\n    var getFieldValue = _ref2.getFieldValue;\n    var searchInResolved = DYNAMICS_SEARCH_IN.map(function (k) {\n      return getFieldValue(k);\n    }).join(\"\");\n    var matches = Array.from(searchInResolved.matchAll(DYNAMICS_VARIABLE_REGEXP)).map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          m = _ref4[1];\n\n      return m;\n    });\n    var added = [];\n    return matches ? matches.map(function (name) {\n      var formName = [\"codeDynamics\", name];\n\n      var _ref5 = (dynamicFields === null || dynamicFields === void 0 ? void 0 : dynamicFields[name]) || {},\n          label = _ref5.label,\n          _ref5$invalidMessage = _ref5.invalidMessage,\n          invalidMessage = _ref5$invalidMessage === void 0 ? __(\"Please fill in a value!\") : _ref5$invalidMessage,\n          example = _ref5.example,\n          expression = _ref5.expression,\n          hint = _ref5.hint;\n\n      if (added.indexOf(name) > -1) {\n        return null;\n      }\n\n      added.push(name);\n      return /*#__PURE__*/React.createElement(_Form.Item, {\n        key: name,\n        label: label || /*#__PURE__*/React.createElement(\"code\", null, name),\n        required: true\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        noStyle: true,\n        name: formName,\n        rules: [{\n          required: true,\n          pattern: expression ? new RegExp(expression) : undefined,\n          message: invalidMessage\n        }]\n      }, /*#__PURE__*/React.createElement(_Input, {\n        placeholder: example ? \"\".concat(__(\"e. g.\"), \" \").concat(example) : undefined\n      })), !!hint && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"notice notice-info below-h2 notice-alt\",\n        style: {\n          margin: \"10px 0 5px\"\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: hint\n        }\n      })));\n    }) : null;\n  });\n});\nexport { CookieEditFormCodeDynamics };","import _Form from \"antd/es/form\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { useMemo } from \"react\";\nimport { _i, __ } from \"../../../../utils\";\nimport { observer } from \"mobx-react\";\nimport { useStores } from \"../../../../store\";\nvar NoticeFormItemContainsSkipIfActiveAttribute = observer(function (_ref) {\n  var name = _ref.name;\n\n  var _useStores = useStores(),\n      activePlugins = _useStores.optionStore.others.activePlugins;\n\n  var activePluginKeys = useMemo(function () {\n    return Object.keys(activePlugins);\n  }, [activePlugins]);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues[name] !== nextValues[name];\n    }\n  }, function (_ref2) {\n    var getFieldValue = _ref2.getFieldValue;\n    var value = getFieldValue(name); // Find `skip-if-active` and their active plugins\n\n    var matches = _toConsumableArray(value.matchAll(/\\s+(skip-if-active=\")([^\"]+)(\")/gm)).map(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 3),\n          plugins = _ref4[2];\n\n      return plugins.split(\",\").filter(function (plugin) {\n        return activePluginKeys.indexOf(plugin) > -1;\n      });\n    }).flat();\n\n    var uniq = matches.filter(function (plugin, i) {\n      return matches.indexOf(plugin) === i;\n    });\n\n    if (uniq.length === 0) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-info below-h2 notice-alt\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, _i(__(\"The code above contains HTML tags that are skipped when one of the following plugins is active: {{strong/}}. {{i}}What does this mean for me?{{/i}} In most cases, another plugin will take over the execution of the technical code, and you have to create a corresponding content blocker.\"), {\n      strong: /*#__PURE__*/React.createElement(\"strong\", null, uniq.map(function (plugin) {\n        return activePlugins[plugin];\n      }).join(\", \")),\n      i: /*#__PURE__*/React.createElement(\"i\", null)\n    })));\n  });\n});\nexport { NoticeFormItemContainsSkipIfActiveAttribute };","import _Switch from \"antd/es/switch\";\nimport _Form from \"antd/es/form\";\nimport { useCallback } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { FormHeadline, CodeMirror } from \"../../..\";\nimport { CookieEditFormLayout } from \"..\";\nimport { __, _i } from \"../../../../utils\";\nimport { MANAGER_GTM_LABEL, MANAGER_MTM_LABEL } from \"../..\";\nimport { useStores } from \"../../../../store\";\nimport { CookieEditFormManagerFields, CookieEditFormCodeDynamics, NoticeFormItemContainsSkipIfActiveAttribute } from \".\";\nvar CookieEditFormHandlingFields = observer(function (_ref) {\n  var notices = _ref.notices,\n      dynamicFields = _ref.dynamicFields;\n\n  var _useStores = useStores(),\n      cookieStore = _useStores.cookieStore,\n      _useStores$optionStor = _useStores.optionStore,\n      setCookiesViaManager = _useStores$optionStor.setCookiesViaManager,\n      isPro = _useStores$optionStor.others.isPro;\n\n  var essentialGroup = cookieStore.essentialGroup; // CodeMirror does not support \"display:none;\", we need to hide it in a hacky way\n\n  var createHiddenFormItemsWithCodeMirror = useCallback(function (visible) {\n    return {\n      opacity: visible ? undefined : 0,\n      height: visible ? undefined : 0,\n      margin: visible ? undefined : 0\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormHeadline, {\n    offset: CookieEditFormLayout.labelCol.span,\n    description: setCookiesViaManager === \"none\" ? __(\"Define HTML and JavaScript code that is executed when a visitor decides to accept or reject this service or when a page is loaded. It is important to define the executed code correctly, as this ensures that scripts are executed and cookies are set only after the user's consent.\") : __(\"Define the %1$s event that should be thrown in the data layer when a visitor decides to accept or reject this service. The event can be used as a trigger in %1$s. For users who do not allow to use %1$s a fallback can be defined. You can define HTML and JavaScript code that is executed when a visitor decides to accept or reject this service, or when a page is loaded. It is important to define the event names and executed code correctly, as this will ensure that scripts are executed and cookies are only set with the user's consent.\", setCookiesViaManager === \"googleTagManager\" ? MANAGER_GTM_LABEL : MANAGER_MTM_LABEL)\n  }, __(\"Technical handling\")), /*#__PURE__*/React.createElement(CookieEditFormManagerFields, {\n    manager: MANAGER_GTM_LABEL,\n    onlyWhenManagerIs: \"googleTagManager\",\n    hasManagerAttributeName: \"hasGTM\",\n    thisIsManagerAttributeName: \"thisIsGoogleTagManager\",\n    inEventNameAttributeName: \"googleTagManagerInEventName\",\n    outEventNameAttributeName: \"googleTagManagerOutEventName\"\n  }), /*#__PURE__*/React.createElement(CookieEditFormManagerFields, {\n    manager: MANAGER_MTM_LABEL,\n    onlyWhenManagerIs: \"matomoTagManager\",\n    hasManagerAttributeName: \"hasMTM\",\n    thisIsManagerAttributeName: \"thisIsMatomoTagManager\",\n    inEventNameAttributeName: \"matomoTagManagerInEventName\",\n    outEventNameAttributeName: \"matomoTagManagerOutEventName\"\n  }), /*#__PURE__*/React.createElement(CookieEditFormCodeDynamics, {\n    dynamicFields: dynamicFields\n  }), (notices === null || notices === void 0 ? void 0 : notices.length) > 0 && /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: CookieEditFormLayout.labelCol.span\n    }\n  }, notices === null || notices === void 0 ? void 0 : notices.map(function (_ref2) {\n    var message = _ref2.message,\n        severity = _ref2.severity;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-\".concat(severity, \" below-h2 notice-alt\"),\n      key: message\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: message\n      }\n    }));\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Code executed on opt-in\")\n  }, setCookiesViaManager === \"googleTagManager\" && isPro && /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.thisIsGoogleTagManager !== nextValues.thisIsGoogleTagManager;\n    }\n  }, function (_ref3) {\n    var getFieldValue = _ref3.getFieldValue;\n    return !getFieldValue(\"thisIsGoogleTagManager\") && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: \"4px 0\"\n      }\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"codeOptInNoGoogleTagManager\",\n      valuePropName: \"checked\",\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", _i(__(\"Only run this script if the user has {{u}}not{{/u}} allowed to use %s\", MANAGER_GTM_LABEL), {\n      u: /*#__PURE__*/React.createElement(\"u\", null)\n    })));\n  }), setCookiesViaManager === \"matomoTagManager\" && isPro && /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.thisIsMatomoTagManager !== nextValues.thisIsMatomoTagManager;\n    }\n  }, function (_ref4) {\n    var getFieldValue = _ref4.getFieldValue;\n    return !getFieldValue(\"thisIsMatomoTagManager\") && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: \"4px 0\"\n      }\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"codeOptInNoMatomoTagManager\",\n      valuePropName: \"checked\",\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", _i(__(\"Only run this script if the user has {{u}}not{{/u}} allowed to use %s\", MANAGER_MTM_LABEL), {\n      u: /*#__PURE__*/React.createElement(\"u\", null)\n    })));\n  }), /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"codeOptIn\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(CodeMirror, {\n    settings: window.cm_settings\n  })), /*#__PURE__*/React.createElement(NoticeFormItemContainsSkipIfActiveAttribute, {\n    name: \"codeOptIn\"\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.group !== nextValues.group;\n    }\n  }, function (_ref5) {\n    var getFieldValue = _ref5.getFieldValue;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Form.Item, {\n      label: __(\"Code executed on opt-out\"),\n      style: createHiddenFormItemsWithCodeMirror(getFieldValue(\"group\") !== essentialGroup.key)\n    }, /*#__PURE__*/React.createElement(_Form.Item, {\n      noStyle: true,\n      shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n        return prevValues.noTechnicalDefinitions !== nextValues.noTechnicalDefinitions;\n      }\n    }, function (_ref6) {\n      var getFieldValue = _ref6.getFieldValue;\n      return getFieldValue(\"noTechnicalDefinitions\") ? null : /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: \"4px 0\"\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"codeOptOutDelete\",\n        valuePropName: \"checked\",\n        noStyle: true\n      }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", __(\"Delete all first-party cookies after opt-out. First-party cookies are only cookies that are set by or for this domain.\")));\n    }), setCookiesViaManager === \"googleTagManager\" && isPro && /*#__PURE__*/React.createElement(_Form.Item, {\n      noStyle: true,\n      shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n        return prevValues.thisIsGoogleTagManager !== nextValues.thisIsGoogleTagManager;\n      }\n    }, function (_ref7) {\n      var getFieldValue = _ref7.getFieldValue;\n      return !getFieldValue(\"thisIsGoogleTagManager\") && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: \"4px 0\"\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"codeOptOutNoGoogleTagManager\",\n        valuePropName: \"checked\",\n        noStyle: true\n      }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", _i(__(\"Only run this script if the user has {{u}}not{{/u}} allowed to use %s\", MANAGER_GTM_LABEL), {\n        u: /*#__PURE__*/React.createElement(\"u\", null)\n      })));\n    }), setCookiesViaManager === \"matomoTagManager\" && isPro && /*#__PURE__*/React.createElement(_Form.Item, {\n      noStyle: true,\n      shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n        return prevValues.thisIsMatomoTagManager !== nextValues.thisIsMatomoTagManager;\n      }\n    }, function (_ref8) {\n      var getFieldValue = _ref8.getFieldValue;\n      return !getFieldValue(\"thisIsMatomoTagManager\") && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          margin: \"4px 0\"\n        }\n      }, /*#__PURE__*/React.createElement(_Form.Item, {\n        name: \"codeOptOutNoMatomoTagManager\",\n        valuePropName: \"checked\",\n        noStyle: true\n      }, /*#__PURE__*/React.createElement(_Switch, null)), /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0\\xA0\", _i(__(\"Only run this script if the user has {{u}}not{{/u}} allowed to use %s\", MANAGER_MTM_LABEL), {\n        u: /*#__PURE__*/React.createElement(\"u\", null)\n      })));\n    }), /*#__PURE__*/React.createElement(_Form.Item, {\n      name: \"codeOptOut\",\n      noStyle: true\n    }, /*#__PURE__*/React.createElement(CodeMirror, {\n      settings: window.cm_settings\n    })), /*#__PURE__*/React.createElement(NoticeFormItemContainsSkipIfActiveAttribute, {\n      name: \"codeOptOut\"\n    })));\n  }), /*#__PURE__*/React.createElement(_Form.Item, {\n    label: __(\"Code executed on page load\")\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"codeOnPageLoad\",\n    noStyle: true\n  }, /*#__PURE__*/React.createElement(CodeMirror, {\n    settings: window.cm_settings\n  })), /*#__PURE__*/React.createElement(NoticeFormItemContainsSkipIfActiveAttribute, {\n    name: \"codeOnPageLoad\"\n  })));\n});\nexport { CookieEditFormHandlingFields };","import _Spin from \"antd/es/spin\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _Select from \"antd/es/select\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport _Skeleton from \"antd/es/skeleton\";\nimport _message from \"antd/es/message\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _Form from \"antd/es/form\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useCallback, useState, useEffect } from \"react\";\nimport { observer } from \"mobx-react\";\nimport { CookieModel } from \"../../../models\";\nimport { __, scrollTo, slugify } from \"../../../utils\";\nimport { useStores } from \"../../../store\";\nimport { useHistory, Prompt } from \"react-router-dom\";\nimport { useRouteCookie } from \"../../../hooks\";\nimport { CookieEditFormGeneralFields, CookieEditFormTechnicalFields, CookieEditFormHandlingFields } from \".\";\nimport { LearnMoreTag } from \"../..\";\nvar CookieEditFormLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\nvar technicalDefinitionDefaults = {\n  type: \"http\",\n  name: \"\",\n  host: \"\",\n  duration: undefined,\n  durationUnit: \"y\",\n  sessionDuration: false\n};\nvar CookieEditForm = observer(function (_ref) {\n  var _cookieStore$groups$s, _cookieStore$groups$s2, _presetModel$attribut, _presetModel$attribut2, _presetModel$attribut3, _presetModel$attribut4, _presetModel$attribut5;\n\n  var preset = _ref.preset,\n      attributes = _ref.attributes,\n      _ref$navigateAfterCre = _ref.navigateAfterCreation,\n      navigateAfterCreation = _ref$navigateAfterCre === void 0 ? true : _ref$navigateAfterCre,\n      _ref$scrollToTop = _ref.scrollToTop,\n      scrollToTop = _ref$scrollToTop === void 0 ? true : _ref$scrollToTop,\n      onCreated = _ref.onCreated;\n\n  var _useRouteCookie = useRouteCookie(),\n      _useRouteCookie$route = _useRouteCookie.routeGroup,\n      group = _useRouteCookie$route.group,\n      link = _useRouteCookie$route.link,\n      cookie = _useRouteCookie.cookie,\n      id = _useRouteCookie.id,\n      queried = _useRouteCookie.queried,\n      fetched = _useRouteCookie.fetched;\n\n  var _Form$useForm = _Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isBusy = _useState2[0],\n      setIsBusy = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      hasChanges = _useState4[0],\n      setHasChanges = _useState4[1];\n\n  var history = useHistory();\n\n  var _useStores = useStores(),\n      cookieStore = _useStores.cookieStore;\n\n  var essentialGroup = cookieStore.essentialGroup;\n  var presetModel = (cookie === null || cookie === void 0 ? void 0 : cookie.presetModel) || cookieStore.presetsCookie.get(preset === null || preset === void 0 ? void 0 : preset.identifier); // Determine the group to use for a given preset, otherwise use current opened group tab\n\n  var useGroup = attributes ? attributes.group ? ((_cookieStore$groups$s = cookieStore.groups.sortedGroups.filter(function (_ref2) {\n    var name = _ref2.data.name;\n    return name === attributes.group;\n  })) === null || _cookieStore$groups$s === void 0 ? void 0 : (_cookieStore$groups$s2 = _cookieStore$groups$s[0]) === null || _cookieStore$groups$s2 === void 0 ? void 0 : _cookieStore$groups$s2.key) || \"preset-group-not-found\" : undefined : group.key;\n  var allowContentBlockerCreation = Object.keys((preset === null || preset === void 0 ? void 0 : preset.contentBlockerPresets) || []).length > 0;\n  var createContentBlockerNotice = (attributes === null || attributes === void 0 ? void 0 : attributes.createContentBlockerNotice) || (presetModel === null || presetModel === void 0 ? void 0 : (_presetModel$attribut = presetModel.attributes) === null || _presetModel$attribut === void 0 ? void 0 : _presetModel$attribut.createContentBlockerNotice);\n  var showOptInNoticeScanned = !!(presetModel !== null && presetModel !== void 0 && presetModel.data.scanned && (_presetModel$attribut2 = presetModel.attributes) !== null && _presetModel$attribut2 !== void 0 && _presetModel$attribut2.codeOptIn && [\"wordpress-comments\"].indexOf(presetModel.data.identifier) === -1);\n  var initialValues = fetched ? {\n    name: cookie.data.title.raw,\n    status: cookie.data.status,\n    group: group.key || undefined,\n    // Can be `0`, so fallback to no selection (e.g. Cookie form modal in Content Blocker)\n    purpose: cookie.data.content.raw,\n    provider: cookie.data.meta.provider,\n    providerPrivacyPolicy: cookie.data.meta.providerPrivacyPolicy,\n    consentForwardingUniqueName: cookie.data.meta.consentForwardingUniqueName || cookie.data.slug,\n    noTechnicalDefinitions: cookie.data.meta.noTechnicalDefinitions,\n    legalBasis: cookie.data.meta.legalBasis,\n    ePrivacyUSA: cookie.data.meta.ePrivacyUSA,\n    technicalDefinitions: JSON.parse(JSON.stringify(cookie.technicalDefinitions || \"[]\")),\n    codeDynamics: JSON.parse(JSON.stringify(cookie.codeDynamics || \"{}\")),\n    thisIsGoogleTagManager: cookie.data.meta.thisIsGoogleTagManager,\n    googleTagManagerInEventName: cookie.data.meta.googleTagManagerInEventName,\n    googleTagManagerOutEventName: cookie.data.meta.googleTagManagerOutEventName,\n    thisIsMatomoTagManager: cookie.data.meta.thisIsMatomoTagManager,\n    matomoTagManagerInEventName: cookie.data.meta.matomoTagManagerInEventName,\n    matomoTagManagerOutEventName: cookie.data.meta.matomoTagManagerOutEventName,\n    codeOptIn: cookie.data.meta.codeOptIn,\n    codeOptInNoGoogleTagManager: cookie.data.meta.codeOptInNoGoogleTagManager,\n    codeOptInNoMatomoTagManager: cookie.data.meta.codeOptInNoMatomoTagManager,\n    codeOptOut: cookie.data.meta.codeOptOut,\n    codeOptOutNoGoogleTagManager: cookie.data.meta.codeOptOutNoGoogleTagManager,\n    codeOptOutNoMatomoTagManager: cookie.data.meta.codeOptOutNoMatomoTagManager,\n    codeOnPageLoad: cookie.data.meta.codeOnPageLoad,\n    codeOptOutDelete: cookie.data.meta.codeOptOutDelete\n  } : {\n    name: (attributes === null || attributes === void 0 ? void 0 : attributes.name) || \"\",\n    status: \"publish\",\n    group: typeof useGroup === \"number\" ? // Can be `0`, so fallback to no selection (e.g. Cookie form modal in Content Blocker)\n    useGroup || undefined : undefined,\n    purpose: (attributes === null || attributes === void 0 ? void 0 : attributes.purpose) || \"\",\n    provider: (attributes === null || attributes === void 0 ? void 0 : attributes.provider) || \"\",\n    providerPrivacyPolicy: (attributes === null || attributes === void 0 ? void 0 : attributes.providerPrivacyPolicy) || \"\",\n    consentForwardingUniqueName: (attributes === null || attributes === void 0 ? void 0 : attributes.consentForwardingUniqueName) || (preset === null || preset === void 0 ? void 0 : preset.identifier) || \"\",\n    noTechnicalDefinitions: (attributes === null || attributes === void 0 ? void 0 : attributes.noTechnicalDefinitions) || false,\n    legalBasis: (attributes === null || attributes === void 0 ? void 0 : attributes.legalBasis) || \"consent\",\n    ePrivacyUSA: (attributes === null || attributes === void 0 ? void 0 : attributes.ePrivacyUSA) || false,\n    technicalDefinitions: attributes !== null && attributes !== void 0 && attributes.technicalDefinitions ? JSON.parse(JSON.stringify(attributes.technicalDefinitions)) : [technicalDefinitionDefaults],\n    codeDynamics: (attributes === null || attributes === void 0 ? void 0 : attributes.codeDynamics) || {},\n    thisIsGoogleTagManager: (attributes === null || attributes === void 0 ? void 0 : attributes.thisIsGoogleTagManager) || false,\n    googleTagManagerInEventName: (attributes === null || attributes === void 0 ? void 0 : attributes.googleTagManagerInEventName) || \"\",\n    googleTagManagerOutEventName: (attributes === null || attributes === void 0 ? void 0 : attributes.googleTagManagerOutEventName) || \"\",\n    thisIsMatomoTagManager: (attributes === null || attributes === void 0 ? void 0 : attributes.thisIsMatomoTagManager) || false,\n    matomoTagManagerInEventName: (attributes === null || attributes === void 0 ? void 0 : attributes.matomoTagManagerInEventName) || \"\",\n    matomoTagManagerOutEventName: (attributes === null || attributes === void 0 ? void 0 : attributes.matomoTagManagerOutEventName) || \"\",\n    codeOptIn: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOptIn) || \"\",\n    codeOptInNoGoogleTagManager: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOptInNoGoogleTagManager) || false,\n    codeOptInNoMatomoTagManager: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOptInNoMatomoTagManager) || false,\n    codeOptOut: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOptOut) || \"\",\n    codeOnPageLoad: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOnPageLoad) || \"\",\n    codeOptOutNoGoogleTagManager: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOptOutNoGoogleTagManager) || false,\n    codeOptOutNoMatomoTagManager: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOptOutNoMatomoTagManager) || false,\n    codeOptOutDelete: (attributes === null || attributes === void 0 ? void 0 : attributes.codeOptOutDelete) || false,\n    createContentBlocker: typeof (attributes === null || attributes === void 0 ? void 0 : attributes.createContentBlocker) === \"boolean\" ? attributes.createContentBlocker : allowContentBlockerCreation && !(attributes !== null && attributes !== void 0 && attributes.deactivateAutomaticContentBlockerCreation),\n    createContentBlockerId: attributes === null || attributes === void 0 ? void 0 : attributes.createContentBlockerId,\n    presetCheck: !preset\n  }; // Initially load the cookie if not yet done\n\n  useEffect(function () {\n    if (queried && !fetched) {\n      group.cookies.getSingle({\n        params: {\n          id: id,\n          context: \"edit\"\n        }\n      });\n    }\n  }, [queried, fetched]); // Lazy load attributes of preset model\n\n  useEffect(function () {\n    if (presetModel && !presetModel.attributes) {\n      presetModel.fetchAttributes();\n    }\n  }, [presetModel]); // Scroll to top when opening the form\n\n  useEffect(function () {\n    if (scrollToTop) {\n      scrollTo(0);\n    }\n  }, []);\n  var handleSave = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var codeToBase64, name, status, purpose, noTechnicalDefinitions, technicalDefinitions, _group, codeDynamics, createContentBlocker, createContentBlockerId, consentForwardingUniqueName, codeOptIn, codeOptOut, codeOnPageLoad, meta, newMeta, _useGroup, draft;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              // Pass as base64-encoded string to avoid Cloudflare XSS issues\n              codeToBase64 = function codeToBase64(str) {\n                return \"encodedScript:\".concat(btoa(str));\n              };\n\n              name = values.name, status = values.status, purpose = values.purpose, noTechnicalDefinitions = values.noTechnicalDefinitions, technicalDefinitions = values.technicalDefinitions, _group = values.group, codeDynamics = values.codeDynamics, createContentBlocker = values.createContentBlocker, createContentBlockerId = values.createContentBlockerId, consentForwardingUniqueName = values.consentForwardingUniqueName, codeOptIn = values.codeOptIn, codeOptOut = values.codeOptOut, codeOnPageLoad = values.codeOnPageLoad, meta = _objectWithoutProperties(values, [\"name\", \"status\", \"purpose\", \"noTechnicalDefinitions\", \"technicalDefinitions\", \"group\", \"codeDynamics\", \"createContentBlocker\", \"createContentBlockerId\", \"consentForwardingUniqueName\", \"codeOptIn\", \"codeOptOut\", \"codeOnPageLoad\"]);\n              newMeta = _objectSpread(_objectSpread({}, meta), {}, {\n                codeOptIn: codeToBase64(codeOptIn),\n                codeOptOut: codeToBase64(codeOptOut),\n                codeOnPageLoad: codeToBase64(codeOnPageLoad),\n                noTechnicalDefinitions: noTechnicalDefinitions,\n                codeDynamics: JSON.stringify(codeDynamics),\n                // Still hold the data of `technicalDefinitions` in database so it is not cleared when activating this option\n                technicalDefinitions: JSON.stringify(noTechnicalDefinitions ? initialValues.technicalDefinitions : technicalDefinitions),\n                consentForwardingUniqueName: consentForwardingUniqueName || slugify(name)\n              });\n              delete newMeta.presetCheck;\n\n              if (!queried) {\n                _context.next = 15;\n                break;\n              }\n\n              cookie.setName(name);\n              cookie.setStatus(status);\n              cookie.setPurpose(purpose);\n              cookie.setMeta(newMeta);\n              cookie.setGroup(_group);\n              _context.next = 13;\n              return cookie.patch();\n\n            case 13:\n              _context.next = 20;\n              break;\n\n            case 15:\n              _useGroup = cookieStore.groups.entries.get(_group);\n              draft = new CookieModel(_useGroup.cookies, {\n                title: {\n                  rendered: name\n                },\n                content: {\n                  rendered: purpose,\n                  protected: false\n                },\n                status: status,\n                meta: _objectSpread(_objectSpread({}, newMeta), {}, {\n                  presetId: preset === null || preset === void 0 ? void 0 : preset.identifier,\n                  presetVersion: preset === null || preset === void 0 ? void 0 : preset.version\n                })\n              });\n              _context.next = 19;\n              return draft.persist();\n\n            case 19:\n              onCreated === null || onCreated === void 0 ? void 0 : onCreated(draft);\n\n            case 20:\n              setHasChanges(false);\n\n              _message.success(__(\"You have successfully saved the service.\") + (createContentBlocker ? \" \".concat(__(\"Continue with the corresponding Content Blocker!\")) : \"\")); // Navigate back after creation\n\n\n              navigateAfterCreation && setTimeout(function () {\n                return createContentBlocker ? // Navigate to content blocker form and forward `navigateAfterCreation` if given\n                history.push(\"/blocker/new?force=\".concat(createContentBlockerId || preset.identifier, \"&cookieCreationPrompt=1\").concat(typeof navigateAfterCreation === \"string\" ? \"&navigateAfterCreation=\".concat(encodeURIComponent(navigateAfterCreation)) : \"\")) : // Navigate back to overview or custom link\n                typeof navigateAfterCreation === \"string\" ? window.location.href = navigateAfterCreation : history.push(\"\".concat(link.slice(1), \"/\").concat(_group));\n              }, 0);\n              _context.next = 29;\n              break;\n\n            case 25:\n              _context.prev = 25;\n              _context.t0 = _context[\"catch\"](0);\n\n              _message.error(_context.t0.responseJSON.message);\n\n              throw _context.t0;\n\n            case 29:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 25]]);\n    }));\n\n    return function (_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [queried, cookie, cookieStore]);\n  var onFinish = useCallback( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsBusy(true);\n              _context2.prev = 1;\n              _context2.next = 4;\n              return handleSave(values);\n\n            case 4:\n              _context2.next = 8;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](1);\n\n            case 8:\n              _context2.prev = 8;\n              setIsBusy(false);\n              return _context2.finish(8);\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 6, 8, 11]]);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), [form, handleSave]);\n  var onFinishFailed = useCallback(function (errorInfo) {\n    _message.error(__(\"The service could not be saved due to missing/invalid form values.\"));\n\n    if (errorInfo.errorFields.length) {\n      form.scrollToField(errorInfo.errorFields[0].name, {\n        behavior: \"smooth\",\n        block: \"center\"\n      });\n    }\n  }, []);\n  var handleBeforeUnload = useCallback(function () {\n    if (!hasChanges) {\n      return true;\n    }\n\n    return __('You have unsaved changes. If you click on \"confirm\", your changes will be discarded.');\n  }, [form, initialValues]);\n\n  if (queried && !fetched) {\n    return /*#__PURE__*/React.createElement(_Skeleton, {\n      active: true,\n      paragraph: {\n        rows: 8\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(_Spin, {\n    spinning: isBusy || (presetModel === null || presetModel === void 0 ? void 0 : presetModel.busy) || false\n  }, /*#__PURE__*/React.createElement(Prompt, {\n    message: handleBeforeUnload\n  }), /*#__PURE__*/React.createElement(_Form, _extends({\n    name: \"cookie-\".concat(group.key, \"-\").concat(id),\n    form: form\n  }, CookieEditFormLayout, {\n    initialValues: initialValues,\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    onValuesChange: function onValuesChange(_ref5) {\n      var technicalDefinitions = _ref5.technicalDefinitions;\n      setHasChanges(true); // Listen to `sessionDuration` changes and validate the `required` field\n      // Listen to `type` changes and validate the technical host field\n\n      var td = (technicalDefinitions || []).filter(Boolean);\n\n      if (td.length === 1) {\n        var tdChangedKeys = Object.keys(td[0]);\n\n        if (tdChangedKeys.length === 1 && [\"sessionDuration\", \"type\"].indexOf(tdChangedKeys[0]) > -1) {\n          setTimeout(function () {\n            return form.validateFields();\n          }, 100); // wait a bit so there are not false-positives\n        }\n      }\n    }\n  }), /*#__PURE__*/React.createElement(CookieEditFormGeneralFields, {\n    groupNotice: (attributes === null || attributes === void 0 ? void 0 : attributes.groupNotice) || (presetModel === null || presetModel === void 0 ? void 0 : (_presetModel$attribut3 = presetModel.attributes) === null || _presetModel$attribut3 === void 0 ? void 0 : _presetModel$attribut3.groupNotice),\n    providerPrivacyPolicyNotice: !fetched && presetModel !== null && presetModel !== void 0 && presetModel.attributes && !initialValues.providerPrivacyPolicy ? __('You have not yet set a privacy policy in the settings, so this field could not be filled in automatically. Please enter the URL of your privacy policy here and <a href=\"%s\" target=\"_blank\">set the corresponding page in your settings.</a>', \"#/settings\") : null,\n    showNoticePresetGroupNotFound: useGroup === \"preset-group-not-found\" ? attributes.group : false\n  }), /*#__PURE__*/React.createElement(CookieEditFormTechnicalFields, null), /*#__PURE__*/React.createElement(CookieEditFormHandlingFields, {\n    dynamicFields: (attributes === null || attributes === void 0 ? void 0 : attributes.dynamicFields) || (presetModel === null || presetModel === void 0 ? void 0 : (_presetModel$attribut4 = presetModel.attributes) === null || _presetModel$attribut4 === void 0 ? void 0 : _presetModel$attribut4.dynamicFields),\n    notices: [{\n      message: (attributes === null || attributes === void 0 ? void 0 : attributes.technicalHandlingNotice) || (presetModel === null || presetModel === void 0 ? void 0 : (_presetModel$attribut5 = presetModel.attributes) === null || _presetModel$attribut5 === void 0 ? void 0 : _presetModel$attribut5.technicalHandlingNotice),\n      severity: \"info\"\n    }, {\n      // Example: Hotjar (hidden content blocker)\n      message: showOptInNoticeScanned && !allowContentBlockerCreation && __(\"If you have already used %s before creating this service, please deactivate the script/plugin with which the service was loaded so far. The opt-in script will now take care of the correct integration.\", presetModel.data.attributes_name),\n      severity: \"warning\"\n    }, {\n      // Example: Google Analytics (scanned, found in custom script (e.g. `functions.php`))\n      message: showOptInNoticeScanned && allowContentBlockerCreation && __(\"You are currently embedding %1$s outside of Real Cookie Banner. You can have it blocked via a content blocker before consenting. Alternatively, you can use the following opt-in script to load %1$s directly into Real Cookie Banner.<br /><br />If you want to embed %1$s via Real Cookie Banner, you have to deactivate the content blocker at the end of the form and remove %1$s outside Real Cookie Banner.<br /><br />If you prefer to keep the current integration, you only have to delete the opt-in script in this form.\", presetModel.data.attributes_name),\n      severity: \"warning\"\n    }].filter(function (_ref6) {\n      var message = _ref6.message;\n      return message;\n    })\n  }), !!preset && /*#__PURE__*/React.createElement(React.Fragment, null, allowContentBlockerCreation && navigateAfterCreation && /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: CookieEditFormLayout.labelCol.span\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.group !== nextValues.group;\n    }\n  }, function (_ref7) {\n    var getFieldValue = _ref7.getFieldValue;\n    return /*#__PURE__*/React.createElement(_Form.Item, {\n      noStyle: true,\n      name: \"createContentBlocker\",\n      valuePropName: \"checked\",\n      dependencies: [\"group\"],\n      rules: [{\n        validator: function validator(_, value) {\n          return getFieldValue(\"group\") === essentialGroup.key && value ? Promise.reject(__('Services that should be associated with a content blocker cannot be in the \"Essential\" group, because it cannot be rejected.')) : Promise.resolve();\n        }\n      }]\n    }, /*#__PURE__*/React.createElement(_Checkbox, null, __(\"Create content blocker for this service.\")));\n  }), /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: function shouldUpdate(prevValues, nextValues) {\n      return prevValues.createContentBlocker !== nextValues.createContentBlocker;\n    }\n  }, function (_ref8) {\n    var getFieldValue = _ref8.getFieldValue;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, getFieldValue(\"createContentBlocker\") && /*#__PURE__*/React.createElement(React.Fragment, null, Object.keys(preset.contentBlockerPresets).length > 1 && /*#__PURE__*/React.createElement(_Form.Item, {\n      noStyle: true,\n      name: \"createContentBlockerId\",\n      rules: [{\n        required: true,\n        message: __(\"Please select a template for the Content Blocker!\")\n      }]\n    }, /*#__PURE__*/React.createElement(_Select, {\n      style: {\n        maxWidth: 500,\n        marginTop: 10,\n        display: \"block\"\n      },\n      placeholder: __(\"Select Content Blocker template...\")\n    }, Object.keys(preset.contentBlockerPresets).map(function (contentBlockerId) {\n      return /*#__PURE__*/React.createElement(_Select.Option, {\n        key: contentBlockerId,\n        value: contentBlockerId\n      }, preset.contentBlockerPresets[contentBlockerId]);\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-info below-h2 notice-alt\",\n      style: {\n        marginTop: 10\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", null, __(\"Immediately after submitting this form you will be forwarded to another form that allows you to create the Content Blocker.\")))), !!createContentBlockerNotice && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"notice notice-info below-h2 notice-alt\"\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: createContentBlockerNotice\n      }\n    })));\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"presetCheck\",\n    valuePropName: \"checked\",\n    required: true,\n    rules: [{\n      type: \"boolean\",\n      required: true,\n      transform: function transform(value) {\n        return value || undefined;\n      },\n      message: __(\"Please confirm that you have checked the contents of the service.\")\n    }],\n    wrapperCol: {\n      offset: CookieEditFormLayout.labelCol.span\n    }\n  }, /*#__PURE__*/React.createElement(_Checkbox, null, __(\"I have checked the information in the service template myself and added any missing information or corrected any information that does not fit to my use case.\"), \" \", /*#__PURE__*/React.createElement(LearnMoreTag, {\n    url: __(\"https://devowl.io/knowledge-base/is-real-cookie-banner-legally-compliant/\")\n  })))), /*#__PURE__*/React.createElement(_Form.Item, {\n    className: \"rcb-form-sticky-submit\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"button button-primary right\",\n    value: __(\"Save\")\n  })))));\n});\nexport { CookieEditFormLayout, technicalDefinitionDefaults, CookieEditForm };","import _Form from \"antd/es/form\";\n\nvar FormHeadline = function FormHeadline(_ref) {\n  var children = _ref.children,\n      description = _ref.description,\n      offset = _ref.offset;\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    wrapperCol: {\n      offset: offset\n    },\n    style: {\n      borderBottom: \"1px solid #e7e7e7\"\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      margin: \"0 0 \".concat(description ? 3 : 15, \"px 0\")\n    }\n  }, children), !!description && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"description\",\n    style: {\n      marginBottom: 15\n    }\n  }, description));\n};\n\nexport { FormHeadline };","import { useLocation } from \"react-router-dom\";\nimport { Url } from \"@devowl-wp/utils\";\n/**\n * Allows to parse query arguments from the `react-router` string.\n */\n\nfunction useLocationQuery() {\n  return new Url(\"/\".concat(useLocation().search), true).query;\n}\n\nexport { useLocationQuery };","import { useRouteMatch } from \"react-router-dom\";\nimport { useStores } from \"../store\";\nimport { useCallback } from \"react\";\nimport { CookieGroupModel } from \"../models\";\n\nvar useRouteCookieGroup = function useRouteCookieGroup() {\n  var _useRouteMatch = useRouteMatch(),\n      cookieGroup = _useRouteMatch.params.cookieGroup;\n\n  var _useStores = useStores(),\n      cookieStore = _useStores.cookieStore; // Get cookie group or return draft object\n\n\n  var id = isNaN(+cookieGroup) ? 0 : +cookieGroup;\n  var queried = !!cookieGroup;\n  var group = cookieStore.groups.entries.get(id) || new CookieGroupModel(cookieStore.groups, {\n    id: 0\n  });\n  var link = \"#/cookies\";\n  var editLink = useCallback(function (_ref) {\n    var key = _ref.key;\n    return \"#/cookies/\".concat(group.key, \"/edit/\").concat(key);\n  }, [group]);\n  var addCookieLink = \"#/cookies/\".concat(group.key, \"/new\");\n  return {\n    group: group,\n    id: id,\n    queried: queried,\n    fetched: group.key !== 0,\n    link: link,\n    editLink: editLink,\n    addCookieLink: addCookieLink\n  };\n};\n\nexport { useRouteCookieGroup };","function getCookieTypeLocalized() {\n  return {\n    http: {\n      name: \"HTTP Cookie\",\n      abbr: \"HTTP\",\n      backgroundColor: \"black\"\n    },\n    local: {\n      name: \"Local Storage\",\n      abbr: \"Local\",\n      backgroundColor: \"#b3983c\"\n    },\n    session: {\n      name: \"Session Storage\",\n      abbr: \"Session\",\n      backgroundColor: \"#3c99b3\"\n    },\n    flash: {\n      name: \"Flash Local Shared Object\",\n      abbr: \"Flash\",\n      backgroundColor: \"#b33c3c\"\n    },\n    indexedDb: {\n      name: \"IndexedDB\",\n      abbr: \"I-DB\",\n      backgroundColor: \"#4ab33c\"\n    }\n  };\n}\n\nexport { getCookieTypeLocalized };"],"names":["slugify","str","replace","toLowerCase","from","i","l","length","RegExp","charAt","useRouteCookie","routeGroup","useRouteCookieGroup","group","params","useRouteMatch","id","isNaN","cookie","queried","cookies","entries","get","fetched","key","CookieEditFormGeneralFields","_ref","_cookie$presetModel","_cookie$presetModel$d","_ref$showNoticePreset","showNoticePresetGroupNotFound","groupNotice","providerPrivacyPolicyNotice","_useStores","_useStores$cookieStor","cookieStore","groups","essentialGroup","_useStores$optionStor","optionStore","ePrivacyUSA","consentForwarding","_useRouteCookie","isRealCookieBannerPreset","presetModel","data","identifier","findByUniqueCookieName","useCallback","_ref2","_callee","slug","_context","prev","next","request","location","abrupt","sent","filter","d","ID","t0","undefined","stop","_x","apply","this","arguments","validateUniqueCookieName","_ref3","_callee2","allowOverwrite","found","_consentForwardingUniqueName","matchRegexp","foundGenerated","_context2","__","metas","consentForwardingUniqueName","match","_","g1","g2","concat","_x2","_x3","React","createElement","Fragment","offset","CookieEditFormLayout","labelCol","span","url","label","required","name","noStyle","rules","message","className","value","sortedGroups","map","_ref4","_ref4$data","dangerouslySetInnerHTML","__html","autoSize","minRows","type","shouldUpdate","prevValues","nextValues","_ref5","_validator","getFieldValue","setFieldsValue","isEssentialGroup","style","display","validateTrigger","validator","_callee3","_context3","_x4","_x5","placeholder","disabled","_i","strong","_ref6","valuePropName","WP_LIST_TABLE_FORM_ITEM_PROPS","wrapperCol","margin","CookieEditFormTechnicalFields","cookieTypeLocalized","noTechnicalDefinitions","technicalDefinitions","fields","add","remove","description","marginBottom","width","title","code","QuestionCircleFilled","align","field","fieldKey","Object","keys","_prevValues$technical","_nextValues$technical","cookieName","r","Array","isArray","test","_prevValues$technical2","_nextValues$technical2","indexOf","isUrl","Promise","resolve","reject","_prevValues$technical3","_nextValues$technical3","host","startsWith","substr","_prevValues$technical4","_nextValues$technical4","float","marginTop","_prevValues$technical5","_nextValues$technical5","sessionDuration","_ref7","min","addonAfter","maxWidth","onClick","DeleteOutlined","colSpan","technicalDefinitionDefaults","PlusOutlined","CookieEditFormManagerFields","manager","onlyWhenManagerIs","hasManagerAttributeName","thisIsManagerAttributeName","inEventNameAttributeName","outEventNameAttributeName","setCookiesViaManager","hasManager","isPro","others","curValues","isActive","active","inEventName","outEventName","addonBefore","marginRight","DYNAMICS_SEARCH_IN","DYNAMICS_VARIABLE_REGEXP","CookieEditFormCodeDynamics","dynamicFields","k","Boolean","searchInResolved","join","matches","matchAll","added","formName","_ref5$invalidMessage","invalidMessage","example","expression","hint","push","pattern","NoticeFormItemContainsSkipIfActiveAttribute","activePlugins","activePluginKeys","useMemo","split","plugin","flat","uniq","CookieEditFormHandlingFields","notices","createHiddenFormItemsWithCodeMirror","visible","opacity","height","severity","thisIsGoogleTagManager","u","thisIsMatomoTagManager","settings","window","cm_settings","_ref8","duration","durationUnit","CookieEditForm","_cookieStore$groups$s","_cookieStore$groups$s2","_presetModel$attribut","_presetModel$attribut2","_presetModel$attribut3","_presetModel$attribut4","_presetModel$attribut5","preset","attributes","_ref$navigateAfterCre","navigateAfterCreation","_ref$scrollToTop","scrollToTop","onCreated","_useRouteCookie$route","link","_Form$useForm","form","_useState","useState","_useState2","isBusy","setIsBusy","_useState3","_useState4","hasChanges","setHasChanges","history","useHistory","presetsCookie","useGroup","allowContentBlockerCreation","contentBlockerPresets","createContentBlockerNotice","showOptInNoticeScanned","scanned","codeOptIn","initialValues","raw","status","purpose","content","provider","meta","providerPrivacyPolicy","legalBasis","JSON","parse","stringify","codeDynamics","googleTagManagerInEventName","googleTagManagerOutEventName","matomoTagManagerInEventName","matomoTagManagerOutEventName","codeOptInNoGoogleTagManager","codeOptInNoMatomoTagManager","codeOptOut","codeOptOutNoGoogleTagManager","codeOptOutNoMatomoTagManager","codeOnPageLoad","codeOptOutDelete","createContentBlocker","deactivateAutomaticContentBlockerCreation","createContentBlockerId","presetCheck","useEffect","getSingle","context","fetchAttributes","scrollTo","handleSave","values","codeToBase64","_group","newMeta","_useGroup","draft","btoa","setName","setStatus","setPurpose","setMeta","setGroup","patch","rendered","protected","presetId","presetVersion","version","persist","setTimeout","encodeURIComponent","href","slice","responseJSON","onFinish","finish","onFinishFailed","errorInfo","errorFields","scrollToField","behavior","block","handleBeforeUnload","paragraph","rows","spinning","busy","Prompt","onValuesChange","td","tdChangedKeys","validateFields","technicalHandlingNotice","attributes_name","dependencies","contentBlockerId","transform","FormHeadline","children","borderBottom","useLocationQuery","Url","useLocation","search","query","cookieGroup","editLink","addCookieLink","getCookieTypeLocalized","http","abbr","backgroundColor","local","session","flash","indexedDb"],"sourceRoot":""}